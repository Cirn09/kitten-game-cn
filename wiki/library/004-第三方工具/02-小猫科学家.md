# 小猫珂学家使用教程

<p align="center"><img src="https://i.imgur.com/AWHGIGH.jpg" /></p>

小猫科学家（KS）是一个自动化脚本，服务于网页模拟建设游戏[猫国建设者](https://kitten-game-cn.now.sh/#)。

> 注意：现在 **最新中文版已经集成了小猫珂学家** ，请在游戏右上角 “选项” 里面通过 “点击启用小猫科学家”启用。

## 写在前面

当你第一次使用小猫珂学家的时候，强烈建议先取消所有功能的勾选，阅读使用说明，然后再根据需求逐个开启珂学家的功能。<br>
小猫珂学家并不是全自动化的脚本；在游戏的各个阶段，它的设置需要被频繁更改，才能有最好的表现。<br>
如果刚玩猫国建设者，可以把升级-建筑取消勾选，前面周目还是需要水渠和牧场的。<br>
目前已知的缺陷或问题:
- 举办节日需要羊皮纸获取速度 ＞ 62.5 每秒才会自动举办节日。（也就是必须打开铸币厂）
- 当喵力获取速度过快时,贸易和打猎只能2选1。
- 如果某些资源到达上限时,资源对应的贸易和工艺会不工作。
- 赞美群星和自动超越需要当前信仰/信仰上限 > 0.98时才可以触发,所以如果要反复赞美太阳和赞美群星时,赞美太阳的条件设置0.98以上即可。
- 当初期要合成E合金的时候小猫珂学家可能不合成。因为工艺的消耗率默认是0.6，就是只会用60%的难得素但由于合成需要1000难得素,所以才不制作E合金。
 - 难得素上限要大于1666，1666 \* 0.6 > 1000。
 - 或者在工艺⇒资源⇒添加资源⇒难得素⇒添加资源⇒将难得素消耗率改成1，才会全部消耗1000的难得素。

## 功能介绍

可以通过勾选/取消勾选最上方的**启用小猫珂学家**的方式，来控制整个脚本是否运行。对于每个分类和每个小项目，也都可以用同样的方式来控制。<br>
<br>
对于**营火**、**太空**、**工艺**、**贸易**、**宗教**、**时间**而言，有一个共同的属性：**触发条件**。<br>

<br>**触发条件**
- 触发条件：表示 当前资源 / 资源上限 达到多少时，会触发这类的小猫珂学家。
<br>例如，营火的默认触发条件是0，那么珂学家完全不会管资源是否达到上限，一旦资源达到某个建筑的建造条件，珂学家就会立刻自动建造；
<br>而相对地，工艺的默认触发条件是0.95，那么只有当资源达到上限的95%时，珂学家才会试图生产工艺制作中的资源。

### 营火

> 这个分类支持触发条件的设置，默认的触发条件是0。<br>

只要勾选某个地面建筑物，珂学家就会在资源足够时自动建造。<br>
每个建筑物的右侧可以设置最大值，珂学家不会建造超过这个最大值的数量。<br>
默认情况下最大值是-1，这意味着没有最大值。

### 太空

> 这个分类支持触发条件的设置，默认的触发条件是0。<br>

只要勾选某个太空建筑物，珂学家就会在资源足够时自动建造。<br>
每个建筑物的右侧可以设置最大值，珂学家不会建造超过这个最大值的数量。<br>
默认情况下最大值是-1，这意味着没有最大值。

### 工艺

> 这个分类支持触发条件的设置，默认的触发条件是0.95，所有资源的默认消耗率为0.6。<br>

注意小猫珂学家用猫薄荷制作木材时，会粗略根据你的寒冬猫薄荷产量 ＞ 0 时才会制作。<br>
只要勾选某种资源，珂学家就会在下级资源足够时自动生产。<br>
工艺分成2种情况：<br>
- 触发条件
 - 当前资源 / 资源上限 ＞ 触发条件 时，珂学家就会制作60%的资源，保留40%。
- 限制
 - 勾选限制的资源，只要当前资源数目变多就会触发小猫珂学家，制作增加资源的60%，保留40%。（前提能制作至少1次及以上）
<br>比如勾上限制，只要你资源在涨小猫珂学家就会造一小部分无视触发条件。

<br>可以支持比较复杂的设置：（推荐默认即可勾上限制，调教较为复杂）
 - 通过触发条件旁边的**资源**按钮，可以配置每一种资源的**库存**，以及**消耗率**。
 - 消耗率
  - 默认情况下，所有资源的**消耗率**都是0.6，这意味着每当进行工艺制作的时候，都只会使用60%的资源，保留40%。
   - 设置  1 为 全部消耗，
   - 设置 0.5 为 制作50%，保留50% 
   - 设置  0 为 不消耗。
 - 库存
  - 毛皮有着默认的**库存**，数值是1000，只有毛皮数量超过1000才会使用且制作时总会给你留下1000的毛皮。
  - 其他的资源默认库存都是0，如果有需要，可以手动分别设置。
  - **即使消耗率设置成1**，小猫珂学家在制作时也会保留你设置好的库存数量。
  - **注意这里设置的库存会影响工坊升级或者营火建筑等等，比如钛设置1000，工坊某个升级需要500钛，即1500钛的时候才会升级解锁。**

### 升级

> 这个分类下整合了各种一次性的升级项目。

- **升级**：
 - 在资源足够时自动进行工坊升级。
- **科技**：
 - 在资源足够时自动研究科技。
- **探险队出发！**：
 - 在条件满足、喵力足够时自动派出探险者寻找可供贸易的种族。
- **探索星球**：
 - 在资源足够时自动探索新的星球。
- **建筑**：
 - 在条件允许时自动升级建筑。
<br>这里的升级指的是用新的建筑完全替代原来的建筑。
<br>例如，建造数据中心以取代图书馆，而不是建造更多数量的图书馆。

### 贸易

> 这个分类支持触发条件的设置，默认的触发条件是0.98。<br>

只要勾选某个种族：
- 珂学家就会在黄金达到触发条件时自动和它进行贸易。<br>
 - **季节**设置：
   - 对于大部分种族而言，珂学家默认已经设置好，只会在最佳的季节和它贸易。
<br>比如不勾的季节，无论触发条件如何小猫珂学家是不会进行交易的。
   - 点击每一个种族旁边的**季节**，可以手动分别设置。<br>
 - **限制**设置：
   - 勾选限制后，每2秒珂学家会分别计算贸易消耗的资源和获取的资源的获得时间，如果消耗的资源比获取的资源获取更困难，那么贸易就不会进行。
   - 跟工艺的限制一样，开启限制后无视触发条件，只要易获得的资源 ＞ 产出的资源小猫珂学家才会进行贸易。
<br>比如开启斑马的限制后贸易获得的 铁  ＞ 煅烧炉 + 熔炉 铁产量 小猫珂学家才会进行贸易。 

### 宗教

> 这个分类支持触发条件的设置，默认的触发条件是0。<br>

只要勾选某个宗教选项，珂学家就会在资源足够时自动学习。<br>
另外，宗教分类有一些**附加**功能：<br>
- 如果开启**优先最佳独角兽建筑**
 - 珂学家就只会建造目前提高独角兽产率性价比最高的建筑。
- 如果开启**赞美太阳**，
 - 在单独设置的触发条件满足时，自动赞美太阳。默认的触发条件是0.98。
- 如果开启**赞美群星**，需同时满足以下2个条件：
 - 仅在 当前信仰 / 信仰上限 ＞ 0.98
 - 满足设置的触发条件。触发条件简单理解：
   - 如果赞美群星后，存满信仰点击赞美太阳，得到太阳革命的加成 / 1000%（太阳革命上限） ＞ 触发条件 才会触发小猫珂学家的赞美群星。
- 如果开启**自动超越**，需同时满足以下2个条件：
 - 仅在 当前信仰 / 信仰上限 ＞ 0.98
 - 当同条件下次元超越后赞美群星获得的顿悟比次元超越前获得的顿悟多，小猫珂学家就会自动超越。
   - k = 次元超越提升的效率， x = 次元超越需要的顿悟
   - 具体公式：(1-k+√(80\*(k\*k-1)\*x+(k-1)\*(k-1)))\*k/(40\*(k+1)\*(k+1)\*(k-1))+x+x/(k\*k-1);

### 时间

> 这个分类支持触发条件的设置，默认的触发条件是0。<br>

只要勾选某个时间建筑物，珂学家就会在资源足够时自动建造。<br>

### 时间操纵

> 注意：这个分类下的设置需要在非常深入游戏时才会用到，如果还不太了解这些设置的含义，建议不要开启它们。<br>

**时间加速**：
 - 当时间通量达到触发条件时，启动时间加速，否则关闭时间加速。<br>

**时间跳转**：
- 自动燃烧时间水晶。该功能支持四个分支选项的设置：
 - **触发条件**
   - 表示至少有多少时间水晶时，科学家才会尝试时间跳转；
 - **上限**
   - 表示每次时间跳转最多跳转的年数；
 - **季节**
   - 珂学家只会在勾选的季节内燃烧时间水晶；
 - **周期**
   - 科学家同样只会在勾选的周期内燃烧时间水晶。
 <br>比如烧红月的设置：红月不勾，其他周期全勾。
 - 另外，科学家永远不会在时计炉过热时燃烧水晶。<br>

**重启时间线（危险！）**：
 - 自动重置。支持时间、宗教、太空、资源、营火五个分支选项的设置，科学家会在所有被勾选的选项都达到了设置的数值时，直接重置时间线。

### 猫力资源
> 这个分类下是分配猫咪的设置，可以支持稍微复杂的设置：

 - ** 限制 **
  - 勾选限制 即当前工作猫咪分配不会超过**Max**的数量。
  - 不勾选即可以突破Max的数量。
 - ** Max **
  - Max 即当前工作猫咪分配的最大数量。
  - 分配猫咪会根据你打勾的工作来分配，具体：<br>某个工作的猫咪数量 / 某个工作的Max的数量 哪个工作值得出的最小珂学家就会分配哪个
  - 当 Max 数量全部分配完毕后，就会根据没勾选限制的工作比值来分配工作。<br>比如猎人Max 2，牧师100， 就是猎人2个，牧师100个。

### 选项

> 这个分类下有一些实用的杂项功能：

- **观测天文事件**：
 - 自动观测罕见的天文现象。用过都说好。
- **举办节日**：
 - 当资源足够时自动举办节日。
- **强制243船**：
 - 无视工艺制作分类的设置，尽可能地造出243个船。这个数量的船可以确保成功的斑马贸易绝对会提供钛。
- **献祭上古神**：
 - 自动给利维坦喂食死灵兽，以延长它停留的时间。
- **狩猎**：
 - 当喵力达到上限的一定比例时，自动派出猎人。可以单独设置触发条件，默认值是0.98。
- **提拔领袖**：
 - 当黄金和经验值足够时，自动提拔领袖。
- **黑币交易**：
 - 自动在价格低谷买入黑币，在高点卖出。
- **修复冷冻仓**：
 - 在资源足够时自动修复可修复的冷冻仓。
- **建造大使馆（Beta）**：
 - 当文化足够时自动建造大使馆。
- **占满屏幕**：
 - 开启科学家时自动进行UI调整，建议开启。
- **探索（废弃）**：
 - 旧版游戏中的功能，新版已删除，故目前该选项无作用。

### 日志过滤

开启该选项，可以过滤珂学家产生的日志。<br>
- 这个过滤功能和游戏内的过滤功能的逻辑是相反的，即被勾选的项目的日志**不会显示**；而游戏内的日志过滤会**保留**那些被勾选的项目。

<br>
<br>
之前的主页：[小猫科学家](https://github.com/cameroncondry/cbc-kitten-scientists)